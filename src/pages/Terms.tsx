// src/pages/Terms.tsx (ENTERPRISE-GRADE — حقوق الطرفين + لغة واضحة + ثقة + Funnel)
// ملاحظات:
// - صياغة “شركات كبيرة”: وضوح، نطاق، تغيير طلبات، تسليم، قبول، دفع، ملكية، سرية، SLA، إنهاء، قوة قاهرة، نزاعات.
// - بدون روابط خارجية (عشان ما نزوّرش مراجع). لو عايز تذكر GDPR/OWASP/ISO بصيغة “نلتزم بأفضل الممارسات” بدون ادعاء شهادة.
// - أضفت: تعريفات + قبول وتسليم + سياسة Change Request + ضمان وسقف مسؤولية + استضافة/طرف ثالث + تعاقدات صيانة + قانون واجب التطبيق (مصر افتراضيًا) + تحديث بتاريخ اليوم (ديسمبر 2025).

import { Card } from '../components/ui/Card';
import {
  FileText,
  Shield,
  CreditCard,
  Clock,
  Award,
  RefreshCw,
  Scale,
  Lock,
  Database,
  AlertTriangle,
  CheckCircle,
} from 'lucide-react';

export function Terms() {
  const LAST_UPDATED = '21 ديسمبر 2025';

  const sections = [
    {
      icon: FileText,
      title: '1) تعريفات مهمة (عشان الكلام يبقى واضح)',
      content: [
        '“الخدمة/المشروع”: الأعمال البرمجية التي تقدمها icode كما هي موصوفة في عرض السعر/النطاق.',
        '“النطاق (Scope)”: قائمة الصفحات/الخصائص/التسليمات المتفق عليها كتابيًا قبل البدء.',
        '“طلب تغيير (Change Request)”: أي إضافة/تعديل خارج النطاق بعد اعتماده.',
        '“التسليمات (Deliverables)”: الملفات/الكود/الواجهات/التهيئات التي يتم تسليمها للعميل.',
        '“القبول (Acceptance)”: اعتماد العميل أن التسليم مطابق للنطاق وفق معايير القبول المذكورة.',
      ],
    },

    {
      icon: Shield,
      title: '2) مبادئ العلاقة (صدق + ثقة + حقوق الطرفين)',
      content: [
        'نلتزم بالشفافية: ما يمكن تنفيذه يتم تحديده بوضوح، وما لا يمكن تنفيذه يتم التنبيه عليه مبكرًا.',
        'نلتزم بمعايير جودة مهنية (Clean code + اختبار أساسي + مراجعات ضمن النطاق).',
        'يلتزم العميل بتوفير المتطلبات والمحتوى والموافقات في المواعيد المحددة حتى لا يتعطل الجدول الزمني.',
      ],
    },

    {
      icon: FileText,
      title: '3) نطاق الخدمات وكيف يتم تثبيته',
      content: [
        'يتم تنفيذ المشروع وفق “وثيقة نطاق/متطلبات” أو “عرض/اتفاق مكتوب” يحدد: الصفحات، الخصائص، التكاملات، ومعايير القبول.',
        'أي شيء غير مذكور صراحة ضمن النطاق يُعتبر خارج النطاق حتى لو تم ذكره شفهيًا.',
        'في حالة وجود تعارض بين هذه الشروط وبين عقد مشروع محدد: تسود بنود عقد المشروع المحدد.',
      ],
    },

    {
      icon: RefreshCw,
      title: '4) سياسة طلبات التغيير (Change Requests) — بدون فوضى',
      content: [
        'أي تغيير بعد اعتماد النطاق يُسجل كطلب تغيير كتابي.',
        'طلب التغيير قد يترتب عليه: (1) تكلفة إضافية، (2) تمديد مدة التسليم، أو (3) إعادة جدولة مرحلة.',
        'لا يبدأ تنفيذ أي طلب تغيير إلا بعد اعتماد أثره (التكلفة/الوقت) كتابيًا من الطرفين.',
      ],
    },

    {
      icon: Clock,
      title: '5) الجدول الزمني والتسليم',
      content: [
        'يتم تحديد خطة زمنية بمراحل (Milestones) وتاريخ تسليم لكل مرحلة عند بدء المشروع.',
        'التزامنا بالمواعيد مرتبط بتعاون العميل (محتوى/موافقات/صلاحيات وصول). أي تأخير من طرف العميل يمدد المدة بنفس مقدار التأخير على الأقل.',
        'التسليم يكون على بيئة اختبار/روابط معاينة (Staging) ثم تسليم نهائي بعد القبول.',
      ],
    },

    {
      icon: CheckCircle,
      title: '6) القبول (Acceptance) ومعايير الاعتماد',
      content: [
        'يتم اعتماد كل مرحلة عند تحقق “معايير القبول” المحددة للنطاق (وظائف تعمل + عدم وجود أعطال حرجة).',
        'يملك العميل فترة مراجعة (3–7 أيام عمل) لكل تسليم مرحلي ما لم ينص العقد على خلاف ذلك.',
        'إذا لم يقدم العميل ملاحظات خلال فترة المراجعة، يُعد التسليم مقبولاً ضمنيًا لتلك المرحلة.',
      ],
    },

    {
      icon: CreditCard,
      title: '7) الدفع والفواتير (نظام شركات محترم)',
      content: [
        'القاعدة الافتراضية: 50% دفعة بدء + 50% عند التسليم النهائي (أو حسب تقسيم المراحل في العقد).',
        'لا يتم نشر النسخة النهائية/تسليم مفاتيح الإنتاج (Production) إلا بعد سداد المستحقات الخاصة بمرحلة التسليم.',
        'التأخير في السداد قد يؤدي لتعليق العمل مؤقتًا حتى السداد دون مسؤولية على icode عن آثار التأخير.',
        'أي رسوم لطرف ثالث (استضافة/دومين/بوابات دفع/إرسال SMS/Email… إلخ) يتحملها العميل ما لم يتم الاتفاق كتابيًا على خلاف ذلك.',
      ],
    },

    {
      icon: Award,
      title: '8) الضمان (Warranty) وما يشمله وما لا يشمله',
      content: [
        'الضمان الافتراضي: 30 يوم من تاريخ التسليم النهائي، وقد يمتد (حتى 60/90) حسب الباقة/العقد.',
        'الضمان يشمل: إصلاح الأخطاء البرمجية التي تمنع الوظائف المتفق عليها من العمل بالشكل الصحيح ضمن النطاق.',
        'الضمان لا يشمل: (1) ميزات جديدة، (2) تغييرات تصميم/محتوى خارج النطاق، (3) مشاكل سببها طرف ثالث أو إعدادات استضافة غير مطابقة، (4) سوء استخدام أو حذف/تعديل غير مصرح به.',
        'ينتهي الضمان إذا تم تعديل الكود/البيئة بواسطة طرف ثالث بدون موافقة icode أو بدون توثيق واضح للتغييرات.',
      ],
    },

    {
      icon: Lock,
      title: '9) السرية وحماية البيانات (Confidentiality)',
      content: [
        'يلتزم الطرفان بالحفاظ على سرية المعلومات التجارية والتقنية والملفات والبيانات المتبادلة أثناء المشروع وبعده.',
        'لا يتم مشاركة بيانات العميل مع أي طرف ثالث إلا للضرورة الفنية (مثل استضافة/بوابة دفع) وبقدر الحاجة فقط.',
        'يمكن توقيع اتفاقية سرية (NDA) مستقلة عند طلب العميل.',
      ],
    },

    {
      icon: Database,
      title: '10) الاستضافة وخدمات الطرف الثالث (Third-Party Services)',
      content: [
        'إذا كانت الاستضافة/الدومين/الخدمات الخارجية باسم العميل: يلتزم العميل بتوفير صلاحيات الوصول اللازمة بأمان.',
        'لا تتحمل icode انقطاع أو أعطال ناتجة عن مزودي خدمات خارجيين أو تغييرات سياساتهم أو أسعارهم.',
        'في حال تكامل بوابات دفع أو منصات خارجية: تلتزم icode بالتنفيذ وفق توثيق المزود، وأي تغيير من المزود قد يستلزم تحديثًا مدفوعًا كطلب تغيير.',
      ],
    },

    {
      icon: FileText,
      title: '11) الملكية الفكرية وحقوق الاستخدام (IP)',
      content: [
        'بعد سداد كامل المستحقات: تنتقل ملكية الكود “المخصص” للمشروع للعميل.',
        'تحتفظ icode بحقوق الأدوات/المكونات/القوالب العامة والـ utilities القابلة لإعادة الاستخدام (غير الخاصة بهوية العميل) ما لم ينص العقد على خلاف ذلك.',
        'المكتبات مفتوحة المصدر تخضع لتراخيصها الأصلية، والعميل مسؤول عن الالتزام بها.',
        'يحق لـ icode عرض المشروع ضمن معرض الأعمال بدون كشف بيانات سرية، ويحق للعميل رفض ذلك كتابيًا قبل الإطلاق.',
      ],
    },

    {
      icon: Scale,
      title: '12) حدود المسؤولية (Limitation of Liability)',
      content: [
        'نلتزم ببذل العناية المهنية المعقولة لتسليم مشروع مطابق للنطاق.',
        'لا تتحمل icode مسؤولية خسائر غير مباشرة مثل (فقد أرباح/فقد بيانات/توقف أعمال) إلا إذا نص عقد المشروع صراحة على خلاف ذلك.',
        'سقف المسؤولية المالية لـ icode — في جميع الأحوال — لا يتجاوز إجمالي المبالغ المدفوعة عن المرحلة محل النزاع، ما لم ينص العقد على خلاف ذلك.',
      ],
    },

    {
      icon: AlertTriangle,
      title: '13) الإلغاء/الإنهاء (Cancellation & Termination)',
      content: [
        'يمكن لأي طرف إنهاء المشروع في حالة إخلال الطرف الآخر التزامًا جوهريًا وعدم تصحيح الإخلال خلال (7) أيام عمل من إخطار كتابي.',
        'إذا ألغى العميل بعد بدء التنفيذ: يتم احتساب العمل المنجز فعليًا حتى تاريخ الإلغاء، ويتم تسليم ما تم إنجازه بعد تسوية المستحقات.',
        'إذا أنهت icode المشروع لأسباب خارجة عن إرادتها (عدم تعاون/عدم سداد/انتهاك قانوني): يظل للـ icode الحق في مستحقات العمل المنجز.',
      ],
    },

    {
      icon: Clock,
      title: '14) القوة القاهرة (Force Majeure)',
      content: [
        'لا يتحمل أي طرف مسؤولية التأخير الناتج عن ظروف قهرية خارجة عن السيطرة (انقطاع شامل، كوارث، قرارات حكومية، أعطال مزود خدمة واسع النطاق).',
        'يتم إخطار الطرف الآخر فور حدوث الظرف القهري وإعادة جدولة المواعيد بشكل معقول.',
      ],
    },

    {
      icon: FileText,
      title: '15) الدعم والصيانة بعد الضمان',
      content: [
        'بعد انتهاء الضمان: تتوفر باقات صيانة (شهرية/ربع سنوية/سنوية) تشمل مراقبة، تحديثات، تحسينات، وإصلاحات وفق SLA متفق عليه.',
        'أي تطوير جديد أو إضافة وظيفة جديدة يتم التعامل معه كمشروع/طلب تغيير مستقل.',
      ],
    },

    {
      icon: FileText,
      title: '16) تسوية النزاعات والقانون واجب التطبيق',
      content: [
        'نسعى أولًا للتسوية الودية خلال (14) يومًا من تاريخ الإخطار بالنزاع.',
        'إذا تعذر الحل الودي: يتم الرجوع للقضاء المختص وفقًا لقانون جمهورية مصر العربية (افتراضيًا) ما لم ينص عقد المشروع على خلاف ذلك.',
      ],
    },

    {
      icon: FileText,
      title: '17) تحديث الشروط',
      content: [
        'قد يتم تحديث هذه الشروط لتحسين الوضوح أو الالتزام القانوني.',
        'أي مشروع قائم يخضع للشروط السارية وقت توقيع عقده/بدءه إلا إذا وافق الطرفان كتابيًا على التحديث.',
      ],
    },
  ];

  return (
    <div className="min-h-screen pt-20 overflow-x-hidden">
      {/* HERO */}
      <section className="section-padding gradient-primary text-white">
        <div className="container-custom">
          <div className="max-w-4xl mx-auto text-center">
            <h1 className="text-4xl md:text-5xl lg:text-6xl font-bold mb-6">الشروط والأحكام</h1>
            <p className="text-xl md:text-2xl leading-relaxed text-white/90">
              وثيقة واضحة تحمي حق الطرفين — بدون تعقيد، وبدون بنود “مطاط”.
            </p>

            <div className="mt-8 max-w-3xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-4">
              <div className="flex items-center justify-center gap-2 bg-white/10 border border-white/15 rounded-2xl py-4">
                <Shield className="w-5 h-5" />
                <span className="font-semibold">حماية حقوق الطرفين</span>
              </div>
              <div className="flex items-center justify-center gap-2 bg-white/10 border border-white/15 rounded-2xl py-4">
                <Scale className="w-5 h-5" />
                <span className="font-semibold">نطاق + قبول واضح</span>
              </div>
              <div className="flex items-center justify-center gap-2 bg-white/10 border border-white/15 rounded-2xl py-4">
                <Clock className="w-5 h-5" />
                <span className="font-semibold">مراحل + مواعيد</span>
              </div>
            </div>
          </div>
        </div>
      </section>

      {/* INTRO */}
      <section className="section-padding">
        <div className="container-custom max-w-5xl">
          <Card className="p-8 mb-8" glass>
            <p className="text-lg text-secondary-700 dark:text-secondary-300 leading-relaxed">
              هذه الشروط تنظّم العلاقة بين <strong>icode</strong> والعميل. الهدف منها: وضوح كامل قبل بدء التنفيذ.
              عند التعاقد أو بدء العمل أو سداد الدفعة الأولى، يعتبر ذلك قبولًا لهذه الشروط
              ما لم يوجد عقد مشروع منفصل ينص على خلاف ذلك.
            </p>
          </Card>

          <div className="space-y-8">
            {sections.map((section, index) => (
              <Card key={index} className="overflow-hidden" hover={false}>
                <div className="p-8">
                  <div className="flex items-start gap-4 mb-6">
                    <div className="w-14 h-14 gradient-primary rounded-xl flex items-center justify-center flex-shrink-0">
                      <section.icon className="w-7 h-7 text-white" />
                    </div>
                    <div>
                      <h2 className="text-2xl font-bold text-secondary-900 dark:text-white">
                        {section.title}
                      </h2>
                    </div>
                  </div>

                  <ul className="space-y-4 mr-16">
                    {section.content.map((item, i) => (
                      <li
                        key={i}
                        className="text-secondary-600 dark:text-secondary-300 leading-relaxed flex items-start gap-3"
                      >
                        <span className="text-primary-600 font-bold flex-shrink-0">•</span>
                        <span>{item}</span>
                      </li>
                    ))}
                  </ul>
                </div>
              </Card>
            ))}
          </div>

          {/* TRUST FOOTER */}
          <Card className="p-8 mt-12" gradient>
            <h3 className="text-2xl font-bold text-secondary-900 dark:text-white mb-4">ملاحظة ثقة</h3>
            <p className="text-secondary-700 dark:text-secondary-300 leading-relaxed mb-6">
              هذه الوثيقة تهدف للوضوح وحماية الطرفين. لا يوجد “بنود خفية”.
              أي شيء مهم للمشروع يتم كتابته في النطاق/العقد قبل البدء.
            </p>

            <div className="flex items-center gap-3 text-secondary-700 dark:text-secondary-300">
              <CheckCircle className="w-5 h-5 text-success-500" />
              <span>
                آخر تحديث: <strong>{LAST_UPDATED}</strong>
              </span>
            </div>
          </Card>
        </div>
      </section>
    </div>
  );
}
